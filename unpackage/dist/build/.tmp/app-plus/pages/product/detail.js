(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/detail"],{"5ef2":function(t,e,o){"use strict";o.r(e);var n=o("73f0"),a=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);e["default"]=a.a},"70ff":function(t,e,o){"use strict";o.r(e);var n=o("e3ca"),a=o("5ef2");for(var i in a)"default"!==i&&function(t){o.d(e,t,function(){return a[t]})}(i);o("d56f");var s=o("2877"),r=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},"73f0":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(o("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e,o,n,a,i,s){try{var r=t[i](s),c=r.value}catch(u){return void o(u)}r.done?e(c):Promise.resolve(c).then(n,a)}function s(t){return function(){var e=this,o=arguments;return new Promise(function(n,a){var s=t.apply(e,o);function r(t){i(s,n,a,r,c,"next",t)}function c(t){i(s,n,a,r,c,"throw",t)}r(void 0)})}}var r=function(){return o.e("components/uni-number-box").then(o.bind(null,"1318"))},c={components:{uniNumberBox:r},data:function(){return{specSelected:[],favorite:!0,cartNum:0,TransGoods:{},GoodsDetail:{},GoodsPicURLList:[],GoodsSkuList:[],GoodsUnitTemplateList:[]}},onLoad:function(){var t=s(n.default.mark(function t(e){var o;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:o=e.goods,this.TransGoods=this.$api.getExtra(o),this.loadData();case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),methods:{loadData:function(){var t=s(n.default.mark(function t(){var e,o;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.callApix({param:"",action:"goods/getGoodsDetail"});case 2:e=t.sent,e.IsSuccess&&(o=decodeURIComponent(e.data.GoodsDetail.GoodsDesc),o=o.replace(new RegExp("{IMGIP}","g"),"res.genvana.cn").replace(new RegExp("<img ","g"),'<img style="width:100%;display:block;" '),e.data.GoodsDetail.GoodsDesc=o,this.GoodsDetail=e.data.GoodsDetail,this.GoodsPicURLList=e.data.GoodsPicURLList,this.GoodsPicURLList.unshift({PicURL:this.TransGoods.DefaultPicURL}),this.GoodsSkuList=e.data.GoodsSkuList,this.GoodsUnitTemplateList=e.data.GoodsUnitTemplateList);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onImageLoad:function(t,e){this.$set(this[t][e],"loaded","loaded")},onImageError:function(t,e){this[t][e].PicURL="/static/errorImage.jpg"},previewImage:function(){var e=[];this.GoodsPicURLList.forEach(function(t){e.push(t.PicURL)}),t.previewImage({urls:e,longPressActions:{itemList:["保存图片","收藏"],success:function(o){0==o.tapIndex&&(t.showNavigationBarLoading(),t.downloadFile({url:e[o.index],success:function(e){console.log(JSON.stringify(e)," at pages\\product\\detail.vue:206"),200===e.statusCode&&t.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){console.log("save success"," at pages\\product\\detail.vue:212"),t.hideNavigationBarLoading()}})}})),console.log("选中了第"+(o.tapIndex+1)+"个按钮,第"+(o.index+1)+"张图片"," at pages\\product\\detail.vue:221")},fail:function(t){console.log(t.errMsg," at pages\\product\\detail.vue:224")}}})},selectSpec:function(t,e){var o=this,n=this.GoodsUnitTemplateList;n.forEach(function(t){t.pid===e&&o.$set(t,"selected",!1)}),this.$set(n[t],"selected",!0),this.specSelected=[],n.forEach(function(t){!0===t.selected&&o.specSelected.push(t)})},toFavorite:function(){this.favorite=!this.favorite},buy:function(){var e=[];this.TransGoods.CartNum=1,e.push(this.TransGoods),t.navigateTo({url:"/pages/order/placeOrder?data=".concat(this.$api.putExtra(e))})},addCart:function(){this.cartNum++,this.$api.msg("添加成功！在购物车等亲")},stopPrevent:function(){}}};e.default=c}).call(this,o("6e42")["default"])},d56f:function(t,e,o){"use strict";var n=o("df22"),a=o.n(n);a.a},df22:function(t,e,o){},e3ca:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},a=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return a})}},[["1678","common/runtime","common/vendor"]]]);