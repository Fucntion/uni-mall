(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/list"],{"150a":function(t,e,a){"use strict";a.r(e);var n=a("7bdb"),s=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);e["default"]=s.a},"7bdb":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(a("a34a"));a("2f62");function s(t){return t&&t.__esModule?t:{default:t}}function i(t,e,a,n,s,i,r){try{var o=t[i](r),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(n,s)}function r(t){return function(){var e=this,a=arguments;return new Promise(function(n,s){var r=t.apply(e,a);function o(t){i(r,n,s,o,c,"next",t)}function c(t){i(r,n,s,o,c,"throw",t)}o(void 0)})}}var o=function(){return a.e("components/uni-load-more/uni-load-more").then(a.bind(null,"78f7"))},c={components:{uniLoadMore:o},data:function(){return{cateMaskState:0,BrandMaskState:0,ClassMaskState:0,headerPosition:"fixed",headerTop:"0px",loadingType:"more",filterIndex:0,searchKey:"",priceOrder:0,cateList:[],goodsList:[],isPullDownRefresh:!0,MallGoodsList:[],BrandList:[],ClassList:[],keyWords:""}},onLoad:function(t){if(this.searchKey=t.key,this.searchKey){var e=this.$mp.page.$getAppWebview();e.setTitleNViewSearchInputText(this.searchKey)}this.loadCateList()},onNavigationBarSearchInputClicked:function(e){var a=this.searchKey?"?key="+this.searchKey:"";t.redirectTo({url:"../search/search"+a})},onPageScroll:function(t){t.scrollTop>=0?this.headerPosition="fixed":this.headerPosition="absolute"},onPullDownRefresh:function(){this.MallGoodsList=[],this.loadData("refresh")},onReachBottom:function(){this.loadData()},methods:{loadCateList:function(){var t=r(n.default.mark(function t(){var e;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.callApix({params:"",action:"filter/getFilterList"});case 2:e=t.sent,e.IsSuccess&&(this.MallGoodsList=e.data);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadData:function(){var e=r(n.default.mark(function e(){var a,s,i,r,o=arguments;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=o.length>0&&void 0!==o[0]?o[0]:"add",s=o.length>1?o[1]:void 0,"add"!==a){e.next=8;break}if("nomore"!==this.loadingType){e.next=5;break}return e.abrupt("return");case 5:this.loadingType="loading",e.next=9;break;case 8:this.loadingType="more";case 9:return e.next=11,this.$api.callApix({params:"",action:"filter/getFilterList",notLoading:!0});case 11:i=e.sent,r=[],i.IsSuccess&&(r=i.data),this.MallGoodsList="refresh"===a?r:this.MallGoodsList.concat(r),this.loadingType=this.MallGoodsList<500?"nomore":"more","refresh"===a&&(1==s||t.stopPullDownRefresh());case 17:case"end":return e.stop()}},e,this)}));function a(){return e.apply(this,arguments)}return a}(),onImageLoad:function(t,e){this.$set(this[t][e],"loaded","loaded")},onImageError:function(t,e){this[t][e].DefaultPicURL="/static/errorImage.jpg"},tabClick:function(e){this.filterIndex===e&&2!==e||(this.filterIndex=e,this.priceOrder=2===e?1===this.priceOrder?2:1:0,t.pageScrollTo({duration:300,scrollTop:0}),this.loadData("refresh",1))},isOpenRefrash:function(){var t=getCurrentPages(),e=t[t.length-1],a=e.$getAppWebview();a.setStyle({pullToRefresh:{support:!this.isPullDownRefresh,style:"circle"}})},toggleCateMask:function(t,e){var a=this,n=-1!=e.indexOf("show")?10:300,s=-1!=e.indexOf("show")?1:0;this.isPullDownRefresh=-1!=e.indexOf("show"),"Cate"==t?this.cateMaskState=2:"Brand"==t?this.BrandMaskState=2:"Classy"==t&&(this.ClassMaskState=2),setTimeout(function(){"Cate"==t?a.cateMaskState=s:"Brand"==t?a.BrandMaskState=s:"Classy"==t&&(a.ClassMaskState=s)},n),this.isOpenRefrash()},changeBrand:function(t){this.SearchParam.CBID=t.CompanyBrandID,this.toggleCateMask("Brand","none")},changeClassy:function(t){this.SearchParam.GCIDS+=t.GoodsClassID+","},closeCate:function(t){0==t?this.cateMaskState=0:1==t?this.BrandMaskState=0:2==t&&(this.ClassMaskState=0)},navToDetailPage:function(e){t.navigateTo({url:"/pages/product/detail?goods=".concat(this.$api.putExtra(e))})},stopPrevent:function(){}}};e.default=c}).call(this,a("6e42")["default"])},9127:function(t,e,a){"use strict";var n=a("aabc"),s=a.n(n);s.a},aabc:function(t,e,a){},e005:function(t,e,a){"use strict";a.r(e);var n=a("f4c4"),s=a("150a");for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);a("9127");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);e["default"]=o.exports},f4c4:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=(t._self._c,t.__map(t.ClassList,function(e,a){var n=t.__map(e.children,function(e,a){var n=t.SearchParam.GCIDS.indexOf(e.GoodsClassID);return{$orig:t.__get_orig(e),g0:n}});return{$orig:t.__get_orig(e),l0:n}}));t.$mp.data=Object.assign({},{$root:{l1:a}})},s=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s})}},[["c101","common/runtime","common/vendor"]]]);