<view class="container"><block wx:if="{{!hasLogin||empty===true}}"><view class="empty"><image src="/static/state-cartempty.jpg" mode="aspectFit"></image><block wx:if="{{hasLogin}}"><view class="empty-tips">购物车空空如也<block wx:if="{{hasLogin}}"><navigator class="navigator" url="home" open-type="switchTab">随便逛逛</navigator></block></view></block><block wx:else><view class="empty-tips">购物车空空如也<view data-event-opts="{{[['tap',[['navToLogin',['$event']]]]]}}" class="navigator" bindtap="__e">去登陆</view></view></block></view></block><block wx:else><view><view class="cart-list"><block wx:for="{{cartList}}" wx:for-item="item" wx:for-index="index" wx:key="GoodsID"><block><view class="{{['cart-item',(index!==cartList.length-1)?'b-b':'']}}"><view class="image-wrapper"><image class="{{[item.loaded]}}" src="{{item.DefaultPicURL}}" mode="aspectFill" lazy-load data-event-opts="{{[['load',[['onImageLoad',['cartList',index]]]],['error',[['onImageError',['cartList',index]]]]]}}" bindload="__e" binderror="__e"></image><view data-event-opts="{{[['tap',[['check',['item',index]]]]]}}" class="{{['yticon icon-xuanzhong2 checkbox',(item.checked)?'checked':'']}}" bindtap="__e"></view></view><view class="item-right"><text class="clamp title">{{item.GoodsName}}</text><view class="attr-box"><text class="attr">{{item.GoodsModel}}</text><text class="attr">{{item.GoodsAttrVal}}</text></view><view class="price-box"><text class="price">{{"¥"+item.Price}}</text><uni-number-box class="step" vue-id="{{'1-'+index}}" min="{{1}}" max="{{item.Stock}}" value="{{item.CartNum>item.Stock?item.Stock:item.CartNum}}" isMax="{{item.CartNum>=item.Stock?true:false}}" isMin="{{item.CartNum===1}}" index="{{index}}" data-event-opts="{{[['^eventChange',[['numberChange']]]]}}" bind:eventChange="__e" bind:__l="__l"></uni-number-box></view></view></view></block></block></view><view class="action-section"><view class="checkbox"><image src="{{allChecked?'/static/selected.png':'/static/select.png'}}" mode="aspectFit" data-event-opts="{{[['tap',[['check',['all']]]]]}}" bindtap="__e"></image><view data-event-opts="{{[['tap',[['check',['all']]]]]}}" class="selected-all-btn" bindtap="__e">全选</view></view><view class="total-box"><text class="price">{{"合计：¥ "+total}}</text></view><button class="no-border confirm-btn" type="primary" data-event-opts="{{[['tap',[['createOrder',['$event']]]]]}}" bindtap="__e">{{"去结算（"+cartNum+"）"}}</button></view></view></block></view>